{"ast":null,"code":"import consumer from \"./consumer\";\nconsumer.subscriptions.create(\"OnlineChannel\", {\n  connected: function connected() {// Called when the subscription is ready for use on the server\n  },\n  disconnected: function disconnected() {// Called when the subscription has been terminated by the server\n  },\n  received: function received(data) {\n    var online = document.querySelectorAll(\"#online\");\n    var el;\n\n    if (online != null) {\n      for (var i = 0; i < online.length; i++) {\n        el = online[i].querySelector(\"[data-id=\\\"\".concat(data.id, \"\\\"]\"));\n\n        if (el != null) {\n          // console.log(el.dataset.id)\n          // console.log(data.id)\n          if (el.dataset.id == data.id) {\n            if (data.status === \"online\") {\n              // console.log(\"ONNNNN\")\n              online[i].innerHTML = data.html;\n            } else if (data.status === \"offline\") {\n              // console.log(\"OFFFFF\")\n              online[i].innerHTML = data.html;\n            }\n          }\n        }\n      }\n    }\n\n    var online_friend = $(\"#FriendOnlineStatus\".concat(data.id));\n    var online_profile = $(\"#ProfileOnlineStatus\".concat(data.id));\n\n    if (data.status === \"online\") {\n      online_friend.css(\"background\", \"#0ec82d\");\n      online_profile.css(\"color\", \"#0ec82d\");\n      online_profile.html(\"online\");\n    } else {\n      online_friend.css(\"background\", \"#d10d0d\");\n      online_profile.css(\"color\", \"#d10d0d\");\n      online_profile.html(\"offline\");\n    }\n  }\n});","map":{"version":3,"sources":["/pingpong/app/javascript/channels/online_channel.js"],"names":["consumer","subscriptions","create","connected","disconnected","received","data","online","document","querySelectorAll","el","i","length","querySelector","id","dataset","status","innerHTML","html","online_friend","$","online_profile","css"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,YAArB;AAEAA,QAAQ,CAACC,aAAT,CAAuBC,MAAvB,CAA8B,eAA9B,EAA+C;AAC7CC,EAAAA,SAD6C,uBACjC,CACV;AACD,GAH4C;AAK7CC,EAAAA,YAL6C,0BAK9B,CACb;AACD,GAP4C;AAS7CC,EAAAA,QAT6C,oBASpCC,IAToC,EAS9B;AAEb,QAAIC,MAAM,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,CAAb;AACA,QAAIC,EAAJ;;AAEA,QAAIH,MAAM,IAAI,IAAd,EAAoB;AAClB,WAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,MAAM,CAACK,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;AACtCD,QAAAA,EAAE,GAAGH,MAAM,CAACI,CAAD,CAAN,CAAUE,aAAV,sBAAqCP,IAAI,CAACQ,EAA1C,SAAL;;AACA,YAAIJ,EAAE,IAAI,IAAV,EAAgB;AACd;AACA;AACA,cAAIA,EAAE,CAACK,OAAH,CAAWD,EAAX,IAAiBR,IAAI,CAACQ,EAA1B,EAA8B;AAC5B,gBAAIR,IAAI,CAACU,MAAL,KAAgB,QAApB,EAA8B;AAC5B;AACAT,cAAAA,MAAM,CAACI,CAAD,CAAN,CAAUM,SAAV,GAAsBX,IAAI,CAACY,IAA3B;AACD,aAHD,MAGO,IAAIZ,IAAI,CAACU,MAAL,KAAgB,SAApB,EAA+B;AACpC;AACAT,cAAAA,MAAM,CAACI,CAAD,CAAN,CAAUM,SAAV,GAAsBX,IAAI,CAACY,IAA3B;AACD;AACF;AACF;AACF;AACF;;AAED,QAAIC,aAAa,GAAGC,CAAC,8BAAuBd,IAAI,CAACQ,EAA5B,EAArB;AACA,QAAIO,cAAc,GAAGD,CAAC,+BAAwBd,IAAI,CAACQ,EAA7B,EAAtB;;AACA,QAAIR,IAAI,CAACU,MAAL,KAAgB,QAApB,EAA8B;AAC5BG,MAAAA,aAAa,CAACG,GAAd,CAAkB,YAAlB,EAAgC,SAAhC;AACAD,MAAAA,cAAc,CAACC,GAAf,CAAmB,OAAnB,EAA4B,SAA5B;AACAD,MAAAA,cAAc,CAACH,IAAf,CAAoB,QAApB;AACD,KAJD,MAKK;AACHC,MAAAA,aAAa,CAACG,GAAd,CAAkB,YAAlB,EAAgC,SAAhC;AACAD,MAAAA,cAAc,CAACC,GAAf,CAAmB,OAAnB,EAA4B,SAA5B;AACAD,MAAAA,cAAc,CAACH,IAAf,CAAoB,SAApB;AACD;AACF;AA7C4C,CAA/C","sourcesContent":["import consumer from \"./consumer\"\n\nconsumer.subscriptions.create(\"OnlineChannel\", {\n  connected() {\n    // Called when the subscription is ready for use on the server\n  },\n\n  disconnected() {\n    // Called when the subscription has been terminated by the server\n  },\n\n  received(data) {\n    \n    let online = document.querySelectorAll(\"#online\")\n    let el\n\n    if (online != null) {\n      for (let i = 0; i < online.length; i++) {\n        el = online[i].querySelector(`[data-id=\"${data.id}\"]`)\n        if (el != null) {\n          // console.log(el.dataset.id)\n          // console.log(data.id)\n          if (el.dataset.id == data.id) {\n            if (data.status === \"online\") {\n              // console.log(\"ONNNNN\")\n              online[i].innerHTML = data.html\n            } else if (data.status === \"offline\") {\n              // console.log(\"OFFFFF\")\n              online[i].innerHTML = data.html\n            }\n          }\n        }\n      }\n    }\n\n    let online_friend = $(`#FriendOnlineStatus${data.id}`);\n    let online_profile = $(`#ProfileOnlineStatus${data.id}`);\n    if (data.status === \"online\") {\n      online_friend.css(\"background\", \"#0ec82d\");\n      online_profile.css(\"color\", \"#0ec82d\");\n      online_profile.html(\"online\");\n    }\n    else {\n      online_friend.css(\"background\", \"#d10d0d\");\n      online_profile.css(\"color\", \"#d10d0d\");\n      online_profile.html(\"offline\");\n    }\n  }\n});\n"]},"metadata":{},"sourceType":"module"}