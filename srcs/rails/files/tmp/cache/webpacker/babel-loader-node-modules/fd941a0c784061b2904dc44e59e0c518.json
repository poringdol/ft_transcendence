{"ast":null,"code":"import consumer from \"./consumer\";\nconsumer.subscriptions.create(\"OnlineChannel\", {\n  connected: function connected() {},\n  disconnected: function disconnected() {},\n  received: function received(data) {\n    var online = document.querySelectorAll(\"#online\");\n    var el;\n\n    if (online != null) {\n      for (var i = 0; i < online.length; i++) {\n        el = online[i].querySelector(\"[data-id=\\\"\".concat(data.id, \"\\\"]\"));\n\n        if (el != null) {\n          if (el.dataset.id == data.id) {\n            online[i].innerHTML = data.html;\n          }\n        }\n      }\n    }\n\n    var online_friend = $(\"#FriendOnlineStatus\".concat(data.id));\n    var online_profile = $(\"#ProfileOnlineStatus\".concat(data.id));\n\n    if (data.status === \"online\") {\n      online_friend.css(\"background\", \"#37d00a\");\n      online_profile.css(\"color\", \"#37d00a\");\n      online_profile.html(\"online\");\n    } else if (data.status === 'offline') {\n      online_friend.css(\"background\", \"#d41e1e\");\n      online_profile.css(\"color\", \"#d41e1e\");\n      online_profile.html(\"offline\");\n    } else {\n      online_friend.css(\"background\", \"#ff870a\");\n      online_profile.css(\"color\", \"#ff870a\");\n      online_profile.html(\"in game\");\n    }\n  }\n});","map":{"version":3,"sources":["/pingpong/app/javascript/channels/online_channel.js"],"names":["consumer","subscriptions","create","connected","disconnected","received","data","online","document","querySelectorAll","el","i","length","querySelector","id","dataset","innerHTML","html","online_friend","$","online_profile","status","css"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,YAArB;AAEAA,QAAQ,CAACC,aAAT,CAAuBC,MAAvB,CAA8B,eAA9B,EAA+C;AAC7CC,EAAAA,SAD6C,uBACjC,CAAE,CAD+B;AAG7CC,EAAAA,YAH6C,0BAG9B,CAAE,CAH4B;AAK7CC,EAAAA,QAL6C,oBAKpCC,IALoC,EAK9B;AACb,QAAIC,MAAM,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,CAAb;AACA,QAAIC,EAAJ;;AAEA,QAAIH,MAAM,IAAI,IAAd,EAAoB;AAClB,WAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,MAAM,CAACK,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;AACtCD,QAAAA,EAAE,GAAGH,MAAM,CAACI,CAAD,CAAN,CAAUE,aAAV,sBAAqCP,IAAI,CAACQ,EAA1C,SAAL;;AACA,YAAIJ,EAAE,IAAI,IAAV,EAAgB;AACd,cAAIA,EAAE,CAACK,OAAH,CAAWD,EAAX,IAAiBR,IAAI,CAACQ,EAA1B,EAA8B;AAC5BP,YAAAA,MAAM,CAACI,CAAD,CAAN,CAAUK,SAAV,GAAsBV,IAAI,CAACW,IAA3B;AACD;AACF;AACF;AACF;;AAED,QAAIC,aAAa,GAAGC,CAAC,8BAAuBb,IAAI,CAACQ,EAA5B,EAArB;AACA,QAAIM,cAAc,GAAGD,CAAC,+BAAwBb,IAAI,CAACQ,EAA7B,EAAtB;;AACA,QAAIR,IAAI,CAACe,MAAL,KAAgB,QAApB,EAA8B;AAC5BH,MAAAA,aAAa,CAACI,GAAd,CAAkB,YAAlB,EAAgC,SAAhC;AACAF,MAAAA,cAAc,CAACE,GAAf,CAAmB,OAAnB,EAA4B,SAA5B;AACAF,MAAAA,cAAc,CAACH,IAAf,CAAoB,QAApB;AACD,KAJD,MAKK,IAAIX,IAAI,CAACe,MAAL,KAAgB,SAApB,EAA+B;AAClCH,MAAAA,aAAa,CAACI,GAAd,CAAkB,YAAlB,EAAgC,SAAhC;AACAF,MAAAA,cAAc,CAACE,GAAf,CAAmB,OAAnB,EAA4B,SAA5B;AACAF,MAAAA,cAAc,CAACH,IAAf,CAAoB,SAApB;AACD,KAJI,MAKA;AACHC,MAAAA,aAAa,CAACI,GAAd,CAAkB,YAAlB,EAAgC,SAAhC;AACAF,MAAAA,cAAc,CAACE,GAAf,CAAmB,OAAnB,EAA4B,SAA5B;AACAF,MAAAA,cAAc,CAACH,IAAf,CAAoB,SAApB;AACD;AACF;AArC4C,CAA/C","sourcesContent":["import consumer from \"./consumer\"\n\nconsumer.subscriptions.create(\"OnlineChannel\", {\n  connected() {},\n\n  disconnected() {},\n\n  received(data) {\n    let online = document.querySelectorAll(\"#online\")\n    let el\n\n    if (online != null) {\n      for (let i = 0; i < online.length; i++) {\n        el = online[i].querySelector(`[data-id=\"${data.id}\"]`)\n        if (el != null) {\n          if (el.dataset.id == data.id) {\n            online[i].innerHTML = data.html\n          }\n        }\n      }\n    }\n\n    let online_friend = $(`#FriendOnlineStatus${data.id}`);\n    let online_profile = $(`#ProfileOnlineStatus${data.id}`);\n    if (data.status === \"online\") {\n      online_friend.css(\"background\", \"#37d00a\");\n      online_profile.css(\"color\", \"#37d00a\");\n      online_profile.html(\"online\");\n    }\n    else if (data.status === 'offline') {\n      online_friend.css(\"background\", \"#d41e1e\");\n      online_profile.css(\"color\", \"#d41e1e\");\n      online_profile.html(\"offline\");\n    }\n    else {\n      online_friend.css(\"background\", \"#ff870a\");\n      online_profile.css(\"color\", \"#ff870a\");\n      online_profile.html(\"in game\");\n    }\n  }\n});\n"]},"metadata":{},"sourceType":"module"}