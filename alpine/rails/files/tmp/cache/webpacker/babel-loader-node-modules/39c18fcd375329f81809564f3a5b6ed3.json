{"ast":null,"code":"import consumer from \"./consumer\";\nconsumer.subscriptions.create({\n  channel: \"RoomChannel\",\n  room_id: 3\n}, {\n  connected: function connected() {\n    console.log(\"connected\"); // Called when the subscription is ready for use on the server\n  },\n  disconnected: function disconnected() {// Called when the subscription has been terminated by the server\n  },\n  received: function received(data) {\n    console.log(data);\n    var user_element = document.getElementById('user-id');\n    var user_id = Number(user_element.getAttribute('data-user-id'));\n    var html;\n\n    if (user_id === data.message.user_id) {\n      html = data.mine;\n    } else {\n      html = data.theirs;\n    }\n\n    var messageContainer = document.getElementById('messages');\n    messageContainer.innerHTML = messageContainer.innerHTML + html; // Called when there's incoming data on the websocket for this channel\n  }\n});","map":{"version":3,"sources":["/pingpong/app/javascript/channels/room_channel.js"],"names":["consumer","subscriptions","create","channel","room_id","connected","console","log","disconnected","received","data","user_element","document","getElementById","user_id","Number","getAttribute","html","message","mine","theirs","messageContainer","innerHTML"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,YAArB;AAEAA,QAAQ,CAACC,aAAT,CAAuBC,MAAvB,CAA8B;AAAEC,EAAAA,OAAO,EAAE,aAAX;AAA0BC,EAAAA,OAAO,EAAE;AAAnC,CAA9B,EAAqE;AACnEC,EAAAA,SADmE,uBACvD;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EADU,CAEV;AACD,GAJkE;AAMnEC,EAAAA,YANmE,0BAMpD,CACb;AACD,GARkE;AAUnEC,EAAAA,QAVmE,oBAU1DC,IAV0D,EAUpD;AACbJ,IAAAA,OAAO,CAACC,GAAR,CAAYG,IAAZ;AACA,QAAMC,YAAY,GAAGC,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAArB;AACA,QAAMC,OAAO,GAAGC,MAAM,CAACJ,YAAY,CAACK,YAAb,CAA0B,cAA1B,CAAD,CAAtB;AAEA,QAAIC,IAAJ;;AAEA,QAAIH,OAAO,KAAKJ,IAAI,CAACQ,OAAL,CAAaJ,OAA7B,EAAsC;AACpCG,MAAAA,IAAI,GAAGP,IAAI,CAACS,IAAZ;AACD,KAFD,MAEO;AACLF,MAAAA,IAAI,GAAGP,IAAI,CAACU,MAAZ;AACD;;AAED,QAAMC,gBAAgB,GAAGT,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAAzB;AACAQ,IAAAA,gBAAgB,CAACC,SAAjB,GAA6BD,gBAAgB,CAACC,SAAjB,GAA6BL,IAA1D,CAda,CAeb;AACD;AA1BkE,CAArE","sourcesContent":["import consumer from \"./consumer\"\n\nconsumer.subscriptions.create({ channel: \"RoomChannel\", room_id: 3}, {\n  connected() {\n    console.log(\"connected\")\n    // Called when the subscription is ready for use on the server\n  },\n\n  disconnected() {\n    // Called when the subscription has been terminated by the server\n  },\n\n  received(data) {\n    console.log(data)\n    const user_element = document.getElementById('user-id');\n    const user_id = Number(user_element.getAttribute('data-user-id'));\n\n    let html;\n\n    if (user_id === data.message.user_id) {\n      html = data.mine\n    } else {\n      html = data.theirs\n    }\n\n    const messageContainer = document.getElementById('messages')\n    messageContainer.innerHTML = messageContainer.innerHTML + html\n    // Called when there's incoming data on the websocket for this channel\n  }\n});\n"]},"metadata":{},"sourceType":"module"}